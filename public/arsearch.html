<div id="ARdiv">
	<div class="page-header">
	  <h1>Architectural Refactorings Search Result</h1>
	</div>
    <div class="well" ng-if="isLoggedin.check()">
        <form name="arsearch_form" class="form-inline" ng-submit="arsearch_form.$valid && saveSearch(arsearch_form)" novalidate>
            <fieldset class="form-group">
                <label for="name">Name</label>
                <input class="form-control" title="name" id="name" placeholder="Give a search name" ng-model="arsearch.name" required></input>
            </fieldset>
            <fieldset class="form-group">
                <button class="btn btn-primary btn-sm" type="submit" ng-disabled="arsearch_form.$invalid">Save Search</button>
            </fieldset>
        </form>
    </div>
    <div>
        <table id="searchObjResults" class="table table-striped table-hover non-select">
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Smells</th>
                <th>Status</th>
                <th></th>
            </tr>
            <tr>
                <th><a href="" ng-click="reverseName=!reverseName;order('name', reverseName)">Name <span ng-show="reverseName">&#x25B2;</span><span ng-show="!reverseName">&#x25BC;</span></a></th>
                <th><a href="" ng-click="reverseDesc=!reverseDesc;order('description', reverseDesc)">Description <span ng-show="reverseDesc">&#x25B2;</span><span ng-show="!reverseDesc">&#x25BC;</span></a></th>
                <th><a href="" ng-click="reverseSmells=!reverseSmells;order('smells.name', reverseSmells)">Smells <span ng-show="reverseSmells">&#x25B2;</span><span ng-show="!reverseSmells">&#x25BC;</span></a></th>
                <th><a href="" ng-click="reverseStatus=!reverseStatus;order('status', reverseStatus)">Status <span ng-show="reverseStatus">&#x25B2;</span><span ng-show="!reverseStatus">&#x25BC;</span></a></th>
                <th></th>
            </tr>
            <tr ng-repeat="ar in arlist | filter:search" ng-dblclick="$state.go('singlear',{id: ar.arhead})">
                <td><a ui-sref="singlear({id: ar.arhead})">{{ar.name}}</a></td>
                <td>{{ar.description}}</td>
                <td><span ng-repeat="smell in ar.smells">{{smell.name}}, </span></td>
                <td>{{ar.status}}</td>
                <td><a ui-sref="aredit({id: ar.id})" ng-if="isAllowed.check(['Admin','Editor'])"><span class="glyphicon glyphicon-pencil"></span></a>&nbsp;<a href ng-click="deleteAr(ar.id)" ng-if="isAllowed.check(['Admin'])"><span class="glyphicon glyphicon-trash"></span></a></td>
            </tr>
        </table>
    </div>
</div>