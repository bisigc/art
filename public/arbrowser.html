<div id="ARdiv" ng-controller="ARController as arCtrl">
	<div class="page-header">
	  <h1>Architectural Refactorings (ARs) <small></small></h1>
	</div>
    <div class="well">
        <p>
            <button class="btn btn-primary btn-sm" ng-click="$state.go('addar')">Add AR</button>
        </p>
    </div>
    <div class="row">
        <div class="col-md-8">
            <table id="searchObjResults" class="table table-striped table-hover non-select">
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Smells</th>
                    <th></th>
                </tr>
                <tr>
                    <td><input ng-model="search.name" placeholder="Enter search criteria" /></td>
                    <td><input ng-model="search.desc" placeholder="Enter search criteria" /></td>
                    <td><input ng-model="search.smells.name" id="smellname" placeholder="Enter search criteria" /></td>
                    <td><button type="button" class="btn btn-warning btn-sm" ng-click="search = []" popover="Clear filter fields" popover-trigger="mouseenter" popover-placement="right">clear</button></td>
                </tr>
                <tr>
                    <th><a href="" ng-click="reverseName=!reverseName;order('name', reverseName)">Name <span ng-show="reverseName">&#x25B2;</span><span ng-show="!reverseName">&#x25BC;</span></a></th>
                    <th><a href="" ng-click="reverseDesc=!reverseDesc;order('desc', reverseDesc)">Description <span ng-show="reverseDesc">&#x25B2;</span><span ng-show="!reverseDesc">&#x25BC;</span></a></th>
                    <th><a href="" ng-click="reverseSmells=!reverseSmells;order('smells.name', reverseSmells)">Smells <span ng-show="reverseSmells">&#x25B2;</span><span ng-show="!reverseSmells">&#x25BC;</span></a></th>
                    <th></th>
                </tr>
                <tr ng-repeat="ar in arlist | filter:search" ng-dblclick="$state.go('singlear',{id: ar.id})">
                    <td>{{ar.name}}</td>
                    <td>{{ar.desc}}</td>
                    <td><span ng-repeat="smell in ar.smells">{{smell.name}}, </span></td>
                    <td><a ui-sref="aredit({id: ar.id})" ng-show="isAllowed.check(['Admin','Editor'])"><span class="glyphicon glyphicon-pencil"></span></a>&nbsp;<a href ng-click="deleteAr(ar.id)" ng-show="isAllowed.check(['Admin'])"><span class="glyphicon glyphicon-trash"></span></a></td>
                </tr>
            </table>
            <pagination total-items="bigTotalItems" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="numPages"></pagination>
        </div>
        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">Smell Cloud <span ng-bind-html="cloudcallstatus"></span><span class="pull-right"><i class="glyphicon glyphicon-info-sign" popover="Click on a Smell-Tag in the Cloud to filter the ARs" popover-trigger="mouseenter" popover-placement="top" popover-append-to-body></i></span></div>
                <div class="panel-body">
                    <jqcloud words="words" width="320" height="320" steps="6"></jqcloud>
                </div>
            </div>
        </div>
    </div>
</div>